(function(g){g.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(a,b){g.fx.step[b]=function(c){if(!c.colorInit){c.start=h(c.elem,b);c.end=e(c.end);c.colorInit=true}c.elem.style[b]="rgb("+[Math.max(Math.min(parseInt((c.pos*(c.end[0]-c.start[0]))+c.start[0]),255),0),Math.max(Math.min(parseInt((c.pos*(c.end[1]-c.start[1]))+c.start[1]),255),0),Math.max(Math.min(parseInt((c.pos*(c.end[2]-c.start[2]))+c.start[2]),255),0)].join(",")+")"}});function e(a){var b;if(a&&a.constructor==Array&&a.length==3){return a}if(b=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(a)){return[parseInt(b[1]),parseInt(b[2]),parseInt(b[3])]}if(b=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(a)){return[parseFloat(b[1])*2.55,parseFloat(b[2])*2.55,parseFloat(b[3])*2.55]}if(b=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(a)){return[parseInt(b[1],16),parseInt(b[2],16),parseInt(b[3],16)]}if(b=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(a)){return[parseInt(b[1]+b[1],16),parseInt(b[2]+b[2],16),parseInt(b[3]+b[3],16)]}if(b=/rgba\(0, 0, 0, 0\)/.exec(a)){return f.transparent}return f[g.trim(a).toLowerCase()]}function h(a,c){var b;do{b=g.curCSS(a,c);if(b!=""&&b!="transparent"||g.nodeName(a,"body")){break}c="backgroundColor"}while(a=a.parentNode);return e(b)}var f={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]}})(jQuery);Util={df:"-"};Util.store=function(a,d,b){d=d||null;b=b||{};var c;if(!b.store||b.store=="local"){try{c=localStorage}catch(f){c=0}}else{if(b.store=="session"){try{c=sessionStorage}catch(f){c=0;b.exp=1}}}if(d&&!b.nojson){d=JSON.stringify(d)}if(c){d?c.setItem(a,d):c.removeItem(a)}else{if(!b.fallback||b.fallback=="cookie"){var g=new Date();g.setTime(g.getTime()+(d?((b.exp||180)*24*60*60*1000):(-1)));document.cookie=a+"="+encodeURIComponent(d)+"; expires="+g.toUTCString()+"; path=/"}else{if(b.fallback=="dom"){this.cache=this.cache||{};if(d){this.cache[a]=d}else{delete this.cache[a]}}}}};Util.retrieve=function(a,b){var h,d,f;b=b||{};if(!b.store||b.store=="local"){try{d=localStorage}catch(g){d=0}}else{if(b.store=="session"){try{d=sessionStorage}catch(g){d=0}}}if(d){f=d.getItem(a)}else{if(!b.fallback||b.fallback=="cookie"){h=document.cookie.match(new RegExp(a+"=[^;]*"));if(h&&(h=h[0].replace(/^[^=]*=/,""))){f=decodeURIComponent(h)}}else{if(b.fallback=="dom"){try{f=this.cache[a]||null}catch(g){f=null}}}}return b.nojson?f:JSON.parse(f||'""')};Util.keys=function(a){var b,c=[];for(b in a){if(a.hasOwnProperty(b)){c[c.length]=b}}return c};Util.setCookie=function(b,c,d,a){if(!d){d="/"}if(!a){a=14}var e=new Date();e.setTime(e.getTime()+(a*86400000));document.cookie=b.replace(/[^a-z0-9_]/gi,"")+"="+encodeURIComponent(c)+"; expires="+e.toUTCString()+"; path="+d};Util.getCookie=function(a){a=a.replace(/[^a-z0-9_]/gi,"");var b=document.cookie.match(new RegExp(a+"=([^;]*)"));if(b){return decodeURIComponent(b[1])}else{return""}};Util.setCookiePart=function(a,d,f){var g=this.getCookie(a).split("~"),e=0,c=new RegExp("^"+d+"!");if(!g[0]&&f){return this.setCookie(a,d+"!"+f)}for(var b in g){if(c.test(g[b])){if(f){g[b]=d+"!"+f}else{g.splice(b,1)}e=1;break}}if(!e&&f){g[g.length]=d+"!"+f}this.setCookie(a,g.join("~"))};Util.getCookiePart=function(a,d){var e=this.getCookie(a).split("~"),c=new RegExp("^"+d+"!(.*)");for(var b in e){if(c.test(e[b])){return e[b].match(c)[1]}}return""};Util.datestr=function(a){if(!a.getDate){return""}return((this.df&&"-"==this.df)?a.getFullYear()+"-"+(a.getMonth()<9?"0":"")+(1+a.getMonth())+"-"+(a.getDate()<10?"0":"")+a.getDate():(a.getDate()<10?"0":"")+a.getDate()+"."+(a.getMonth()<9?"0":"")+(1+a.getMonth())+"."+a.getFullYear())};Util.parseDate=function(e){e=e||"";var b,d=e.match(/^(\d{4})-(\d{1,2})-(\d{1,2})$/),c=e.match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})$/),a=e.match(/^(\d{1,2})\.(\d{1,2})\.?$/);if(d){this.df="-";b=[d[1],d[2],d[3]]}else{if(c){this.df=".";b=[c[3],c[2],c[1]]}else{if(a){this.df=".";b=[(new Date).getFullYear(),a[2],a[1]]}}}return b?new Date(b[0],b[1]-1,b[2]):new Date()};Util.getCaptcha=function(a){if(window.Recaptcha){Recaptcha.create(fbk.rc_pk,"captcha",RecaptchaOptions);jQuery("#captcha").addClass(a)}else{jQuery.getScript(fbk.rc_url,function(){Recaptcha.create(fbk.rc_pk,"captcha",RecaptchaOptions);jQuery("#captcha").addClass(a)})}};Calc=new Object;Calc.getAccPrice=function(e,d,b,c,a){if(e.values[d.x]&&e.values[d.x][d.y]&&e.values[d.x][d.y].length){return Calc.getPrice({values:e.values[d.x][d.y],calc:b||e.calc},d,c,a)}else{return 0}};Calc.getPrice=function(c,g,f,e){var k=0,d,a,h=0;for(d=g.weeks-1;d>=0;d--){if(0==c.values[d]){return 0}else{if(c.values[d]){break}}}if(!c.values[d]&&e){var b=[];for(a in c.values){if(!isNaN(a)){b[a]=c.values[a]}}if(b.length<g.weeks){return null}for(d=g.weeks;d<b.length;d++){if(c.values[d]){break}}}else{if(!c.values[d]){return null}}if(!f){if("tot"==c.calc||"stot"==c.calc){return c.values[d]*(g.weeks)/(d+1)}else{return c.values[d]}}if("nth"==c.calc){if(e&&d>=g.weeks){k=c.values[d]*g.weeks/(d+1)}else{k=(g.weeks-d)*c.values[d];for(a=0;a<d;a++){if(c.values[a]){h=c.values[a]}k+=h}}}else{if("pw"==c.calc||"add"==c.calc||"ps"==c.calc){k=c.values[d]*g.weeks}else{if("tot"==c.calc||"stot"==c.calc){k=c.values[d]*g.weeks/(d+1)}else{if("un"==c.calc){k=c.values[d]}}}}if(g.start){k-=Calc.getPrice(c,{weeks:g.start},f,e)}return k};Calc.getFullCol=function(d,f,c){var a=[],e,b,g;if(!d.length){return a}f.start||(f.start=0);if(null==d[f.start]){for(e=f.start-1;e>=0;e--){if(null!=d[e]){g=e;break}}if("undefined"==typeof g){for(e=f.start;e<f.start+f.weeks;e++){if(null!=d[e]){f.start=g=e;break}}}if("undefined"==typeof g){return a}}else{g=f.start}for(e=f.start;e<f.weeks;e++){if(null!=d[e]){g=e;a[e]=d[e]}else{switch(c){case"pw":case"add":case"nth":case"ps":a[e]=d[g];break;case"tot":case"stot":a[e]=d[g]*(e+1)/(g+1);break}}}return a};jQuery(document).ready(function(a){if(localStorage&&Util.retrieve("schools_version")){localStorage.clear()}if(window.fbk){jQuery.ajaxSetup({url:fbk.ajaxurl,cache:true});Ajax.init();MemBox.init("visits",fbk.current||0);Util.ready=1;a(document).trigger("util_init_done")}a("input.fbk_date").datepicker();if(!window.opera){a('input[type="date"]').each(function(c,f){var b,d={};if(b=a(f).attr("min")){d.minDate=Util.parseDate(b)}if(b=a(f).attr("max")){d.maxDate=Util.parseDate(b)}a(f).datepicker(d)})}a("form").live("reset",function(){return a(this).find(":input").filter('[type="text"],[type="search"]').each(function(){this.defaultValue=""}).end().filter("select").each(function(){a(this).children().removeAttr("selected")})})});